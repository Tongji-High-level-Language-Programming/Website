# 第三周作业

## 结构化程序设计基础 - 输入输出及顺序结构

### 注意事项

::: warning

请认真阅读本节要求。若违反本注意事项及每个题目单独要求，对应题目 **得分为 0**。

:::

程序**仅**允许包含下列**白名单**中的头文件：

|       文件名       |            说明            |
| :----------------: | :------------------------: |
|     `iostream`     |      C++ 标准输入输出      |
|     `iomanip`      |    C++ 输入输出格式控制    |
| `cstdio`/`stdio.h` |     C 方式标准输入输出     |
|  `cmath`/`math.h`  | 标准数学库，仅 3-b4 中可用 |

**仅**允许使用下列**白名单**中的类型：

- `char`/`signed char`/`unsigned char`
- `short`/`unsigned short`
- `int`/`unsigned int`
- `long`/`unsigned long`
- `long long`/`unsigned long long`(3-b2 除外)
- `float`/`double`

**不允许**使用课程未涉及的知识：

<SyntaxRestriction
:allowed="['sequence', 'basic-types', 'stdio']"
:banned="['selection', 'goto', 'loop', 'function', 'array', 'class', 'others']"
> </SyntaxRestriction>

除明确要求外，所有 C++ 源程序**不允许**使用 `scanf`/`printf` 进行输入输出。

%%% problem-group

;;; problem-item 3-b1 求圆相关

输入两个 `double` 型数 $r$、$h$（不考虑各种输入错误），依次求半径为 $r$ 的圆的周长、面积；半径为 $r$ 的球体的表面积、体积，以及半径为 $r$、高度为 $h$ 的圆柱体积。

本题要求使用 C/C++ 两种语言分别实现。

#### 公式参考

- 圆的周长：$C=2\pi r$
- 圆的面积：$S=\pi r^2$
- 球的表面积：$S=4\pi r^2$
- 球的体积：$V=\frac{4\pi r^3}{3}$
- 圆柱的体积：$V=\pi r^2 h$

#### 输入格式

共 1 行，包含由空格隔开的两个浮点数，分别表示半径和高度。

#### 输出格式

共 6 行，如下所示：

- Line 1: 提示“请输入半径和高度”。
- Line 2-6: 要求的五个值，每个一行。每行提示信息在冒号处对齐，冒号后空一格。输出保留两位小数。

<ProblemSamples :data="[{input: '1 1',
    output: '请输入半径和高度\n' +
            '圆周长     : 6.28\n' +
            '圆面积     : 3.14\n' +
            '圆球表面积 : 12.57\n' +
            '圆球体积   : 4.19\n' +
            '圆柱体积   : 3.14\n'
}]">
</ProblemSamples>

::: tip 💡 提示
$\pi$ 使用 `const double pi = 3.14159` 方式定义即可。
:::

;;;

;;; problem-item 3-b2 分解整数

键盘输入一个 $[1, 30000]$ 之间的整数，要求把每一位数字分解并打印出来。

#### 输入格式

共 1 行，包含一个整数。

输入保证整数在题目约定的范围内，不考虑各种错误输入情况。

#### 输出格式

共 6 行，如下所示：

- Line 1: 提示“请输入一个[1..30000]间的整数:”
- Line 2-6: 分解的各位值。

<ProblemSamples :data="[{
            input: '307',
            output: '请输入一个[1..30000]间的整数:\n' +
            '万位 : 0\n' +
            '千位 : 0\n' +
            '百位 : 3\n' +
            '十位 : 0\n' +
            '个位 : 7\n'
        }, {
            input: '23154',
            output: '请输入一个[1..30000]间的整数:\n' +
            '万位 : 2\n' +
            '千位 : 3\n' +
            '百位 : 1\n' +
            '十位 : 5\n' +
            '个位 : 4\n'
        }]">
</ProblemSamples>
;;;

;;; problem-item 3-b3 分解浮点数

键盘输入一个$[0, 10^{10})$（一百亿）之间的浮点数（其中小数部分不超过两位），要求把每一位数字分解并打印出来。

#### 输入格式

共 1 行，一个如上所述的浮点数。不考虑输入错误。

#### 输出格式

共 13 行，如下所示：

- Line 1: 提示“请输入[0-100 亿)之间的数字:”
- Line 2-13: 分解的各位值。

> 注意，个位/十分位/百分位前的提示信息分别为“圆/角/分”。

<ProblemSamples :data="[{input: '8307238123.07', output: '提示“请输入[0-100 亿)之间的数字:\n' + ''}]">

</ProblemSamples>

::: info 补充要求
本题的目的是增进同学们对浮点数存储和运算方式的理解，因此，请遵循下述规则，不要尝试“逃课”：

1. 本题**必须**使用 `cin >> double型变量` 的形式一次性输入，**不允许**采用整数/小数分开输入等方法，**更不能**采用后续知识点中的字符数组/`string` 等方式输入。
2. 该数的整数部分可能超过 `int`/`long` 的最大可表示范围。**不允许** 使用 64 位及以上的整数（`long long`/`__int64` 等），**不允许**将该数**整体扩大**(即)。
3. 本题不允许使用任何系统提供的数学函数，包括但不限于 `modf`/`floor`/`ceil`/`round` 等。实际上，这些函数大概率并不能让你更容易地解决本题。

**思考**：作业完成后再思考，为什么不能采用 `cin >> float型变量` 的形式？
:::

::: tip 💡 提示

本题的核心难点在于正确处理浮点数的误差。如果你遇到了困难，以下两个建议可以帮助到你：

1. 仔细思考浮点数在计算机内部的存储形式（IEEE754）。在本题的场景中，误差大约有多少？
2. 内部存储的误差是以怎样的形式导致最终结果错误的？依次考察程序中每一步的计算过程，在必要的时候使用 `cout` 输出中间步骤的计算结果（这种查错技巧不止适用于本题）。

除此以外，熟悉数据类型的表示范围和不同类型之间的转换规则也有助于你编写正确的程序。

:::

::: details 参考测试数据
以下 24 组测试数据可以用来帮助验证你的程序是否有错误。尽管全部通过仍然不能证明程序**一定**正确，但绝大部分错误均能通过这些数据检测出来。

```plaintext
9999999999.99
9999999999.90
9999999999.09
9900000000
8912003005.78
2501200350.03
1203056740.00
203056740.20
23000056.82
3051200.72
301000.35
10001.34
8070.23
9876.54
803.03
12.30
10.03
9.30
7.03
0.35
0.30
0.07
0.03
0
```

:::

;;;

%%%

### 编译要求

|   文件名   |         题目          | VS2026（MSVC 19.44） | Dev C++（g++ 9.3） |
| :--------: | :-------------------: | :------------------: | :----------------: |
|  3-b1-1.c  |  求圆相关（C 方式）   |          Y           |         Y          |
| 3-b1-2.cpp |  求圆相关（C++方式）  |          Y           |         Y          |
|  3-b2-1.c  |  分解整数（C 方式）   |          Y           |         Y          |
| 3-b2-2.cpp |  分解整数（C++方式）  |          Y           |         Y          |
|  3-b3-1.c  | 分解浮点数（C 方式）  |          Y           |         Y          |
| 3-b3-2.cpp | 分解浮点数（C++方式） |          Y           |         Y          |
